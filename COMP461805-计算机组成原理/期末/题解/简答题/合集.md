# 总线控制

总线控制(仲裁)主要解决哪些问题？集中式总线判优控制方法主要有哪三种？各有什么优缺点？

:one:总线控制主要解决的问题：当多个模块申请总线的使用权时，决定如何按优先级分配总线

:two:集中式总线控制：链式查询，计数器定时查询，独立请求

1. 链式查询：
   - 优点：结构简单
   - 缺点：需要一个个遍历查询，速度慢，优先级固定，对故障敏感
2. 计时器定时查询：
   - 优点：优先级灵活不固定
   - 缺点：硬件复杂度较高，又是难以设置合理的时钟初值
3. 独立请求方式：
   - 优点：查询速度最快，优先级最灵活，可靠性最高
   - 缺点：硬件最复杂。控制器负担重

# $\textbf{DRAM}$刷新

对于 DRAM 来说，什么叫刷新？为什么要刷新？说明刷新有几种方法，请简单比较这几种刷新方法的特点。

:one:刷新：刷新是指定期对DRAM存储单元进行加电操作

:two:为何：因为DRAM的电容会漏电，如果不刷新，存储的数据会逐渐丢失

:three:方式：集中式，分散式，异步式

1. 集中式：对芯片内全部存储元==逐行==刷新，刷新时==不读写==
2. 分散式：对芯片内全部存储元==逐行==刷新，每读/写一次就刷新一行
3. 异步式：对芯片内全部存储元==逐行==刷新，刷新的时间点均匀分散在最大刷新间隔内

# $\textbf{DMA}$

DMA 传送方式主要由哪几个阶段实现？各个阶段分别由何种技术支持？大体完成一些什么工作？

:one:预处理：$\text{CPU}$发起中断请求，$\text{DMA}$控制器响应后，$\text{CPU}$占用总线并传输初始参数

:two:数据传输：$\text{CPU}$把总线控制权交给$\text{DMA}$，开始一块块地向主存传输数据，传送完毕后向$\text{CPU}$发起中断请求

:three:后处理：$\text{CPU}$响应中断，执行中断程序来结束$\text{IO}$

# 总线通信

在总线通信方式中，同步通信和异步通信的主要区别是什么？异步通信还分哪几种？各自有何特点？

:one:主要区别：

1. 同步总线通信：由总线控制器==时钟==统一协调，总线周期固定
2. 异步总线通信：无总线控制器==时钟==统一协调，总线周期不固定

:three:三种总线的异步通信

1. 不互锁：主设备和从设备无任何握手协议，双方不等待对方的确认通知
2. 半互锁：只有主设备具有单向的握手，只有主设备会等待对方的确认通知
3. 全互锁：主设备和从设备进行双向的握手，双方都等待对方的确认通知

# 进位技术

先行进位技术与行波进位技术逻辑原理上有何本质的区别？采用先行进位技术设计并行加法器时，为什么经常需要分组？组内位数的多少对进位速度有何影响？为什么？

:one:二者的本质区别

1. 行波进位加法器：若干加法器通过进位输出端相联，可实现并行求加，但进位需要串行等待
2. 先行进位加法器：可实现并行求加，并且可由原始操作数得到所有进位信号，避免了串行等待

:two:先行进位加法器为何要分组：直接计算所有先行进位信号硬件开销巨大，可分组后在组内计算局部先行进位，组件交互(如串行进位或多级先行进位)以提高效率

:three:组内位数对运算速度的影响：

1. 单组内位数越多，单组计算更慢，但整体进位传播可能更快
2. 单组内位数越少，单组计算更快，但整体进位传播可能更慢

# 微指令格式

微指令操作控制字段有哪些常用的微命令编码方式？各有何特点？假设 某机有 80 条指令，平均每条指令由 6 条微指令编制的微程序实现，其中有一 条取指微指令是所有指令公用的。已知微指令长度为 32 位，则控制存储器容 量至少需要多大？

:one:硬记住：直接译码，间接译码，混合译码

:two:第二问硬记住

1. 提取有用信息：指令数$I$，每条指令$N$个微指令，微指令常度$D$位，$n$个共享取指微指令
2. 公共微指令：$n$条
3. 其余微指令：$I(N-1)$
4. 容量：$D[n+I(N-1)]$ bit